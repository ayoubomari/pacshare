package config

import (
	"sync"
)


var Proxies = []string{
    "http://104.207.50.92:3128",
    "http://104.207.52.4:3128",
    "http://104.207.54.12:3128",
    "http://104.207.45.221:3128",
    "http://104.167.26.204:3128",
    "http://104.167.27.139:3128",
    "http://104.207.48.120:3128",
    "http://104.207.63.190:3128",
    "http://104.207.48.238:3128",
    "http://104.207.58.198:3128",
    "http://104.207.56.153:3128",
    "http://104.207.54.194:3128",
    "http://104.207.43.251:3128",
    "http://104.207.55.171:3128",
    "http://104.207.36.80:3128",
    "http://104.207.55.116:3128",
    "http://104.207.33.109:3128",
    "http://104.207.45.212:3128",
    "http://104.207.54.162:3128",
    "http://104.207.47.212:3128",
    "http://104.207.44.10:3128",
    "http://104.207.50.7:3128",
    "http://104.207.47.194:3128",
    "http://104.207.36.214:3128",
    "http://104.207.36.202:3128",
    "http://104.207.61.96:3128",
    "http://104.207.57.29:3128",
    "http://104.207.41.214:3128",
    "http://104.207.37.34:3128",
    "http://104.207.40.73:3128",
    "http://104.167.24.174:3128",
    "http://104.207.36.228:3128",
    "http://104.207.33.84:3128",
    "http://104.167.29.93:3128",
    "http://104.207.48.207:3128",
    "http://104.207.44.125:3128",
    "http://104.207.36.217:3128",
    "http://104.207.39.136:3128",
    "http://104.207.50.217:3128",
    "http://104.207.54.27:3128",
    "http://104.207.56.22:3128",
    "http://104.207.35.21:3128",
    "http://104.167.25.113:3128",
    "http://104.207.51.16:3128",
    "http://104.207.54.49:3128",
    "http://104.207.62.225:3128",
    "http://104.207.38.90:3128",
    "http://104.207.35.65:3128",
    "http://104.207.54.244:3128",
    "http://104.207.36.86:3128",
    "http://104.167.25.153:3128",
    "http://104.167.26.170:3128",
    "http://104.207.58.157:3128",
    "http://104.207.58.78:3128",
    "http://104.207.60.87:3128",
    "http://104.167.25.92:3128",
    "http://104.207.44.238:3128",
    "http://104.207.57.98:3128",
    "http://104.207.56.30:3128",
    "http://104.207.44.167:3128",
    "http://104.207.61.127:3128",
    "http://104.207.42.24:3128",
    "http://104.207.61.30:3128",
    "http://104.167.25.110:3128",
    "http://104.207.37.121:3128",
    "http://104.207.48.14:3128",
    "http://104.207.43.193:3128",
    "http://104.207.58.222:3128",
    "http://104.207.32.200:3128",
    "http://104.207.40.188:3128",
    "http://104.207.63.225:3128",
    "http://104.167.27.191:3128",
    "http://104.207.33.169:3128",
    "http://104.207.36.253:3128",
    "http://104.167.27.238:3128",
    "http://104.167.24.165:3128",
    "http://104.207.35.20:3128",
    "http://104.207.35.125:3128",
    "http://104.207.46.52:3128",
    "http://104.207.47.13:3128",
    "http://104.207.53.49:3128",
    "http://104.207.46.116:3128",
    "http://104.207.59.83:3128",
    "http://104.207.53.149:3128",
    "http://104.207.32.176:3128",
    "http://104.207.57.243:3128",
    "http://104.207.47.140:3128",
    "http://104.207.40.70:3128",
    "http://104.167.26.35:3128",
    "http://104.207.32.167:3128",
    "http://104.207.40.118:3128",
    "http://104.207.52.2:3128",
    "http://104.207.34.56:3128",
    "http://104.167.26.17:3128",
    "http://104.167.31.178:3128",
    "http://104.207.50.168:3128",
    "http://104.207.40.183:3128",
}

var (
	proxyIndex int
	mu         sync.Mutex
)

// GetProxies returns a copy of the current proxies
func GetProxies() []string {
	mu.Lock()
	defer mu.Unlock()
	return append([]string(nil), Proxies...)
}

// SetProxies updates the proxies variable safely
func SetProxies(proxies []string) {
	mu.Lock()
	defer mu.Unlock()
	Proxies = proxies
	proxyIndex = 0 // reset the index when proxies are updated
}

// GetNextProxy returns the next proxy in a round-robin fashion
func GetNextProxy() string {
	mu.Lock()
	defer mu.Unlock()
	proxy := Proxies[proxyIndex]
	proxyIndex = (proxyIndex + 1) % len(Proxies)
	return proxy
}